/* =========================================
   1. CORE VARIABLES (THEMES)
   ========================================= */
:root {
    --font-main: 'Inter', sans-serif;
    --ease: cubic-bezier(0.19, 1, 0.22, 1);
}

/* THEME 1: MATTE BLACK (Default) */
body.theme-matte {
    --bg: #050505;           /* Глухий чорний */
    --surface: #0a0a0a;      /* Ледь світліший для карток */
    --surface-hover: #111;   /* При наведенні */
    --accent: #ffffff;
    --text-sec: #666;
    --border: rgba(255, 255, 255, 0.08); /* Дуже тонка рамка */
    --glass: rgba(5, 5, 5, 0.9);
}

/* THEME 2: MODERN GREY (Tech) */
body.theme-modern {
    --bg: #121212;           /* Темно-сірий фон */
    --surface: #1e1e1e;      /* Світліші панелі */
    --surface-hover: #252525;
    --accent: #e0e0e0;
    --text-sec: #888;
    --border: rgba(255, 255, 255, 0.2); /* Більш помітна рамка */
    --glass: rgba(30, 30, 30, 0.9);
}

/* =========================================
   2. GLOBAL STYLES
   ========================================= */
* { margin: 0; padding: 0; box-sizing: border-box; outline: none; user-select: none; }

body {
    background-color: var(--bg);
    color: var(--accent);
    font-family: var(--font-main);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 12px;
    transition: background-color 0.5s, color 0.5s; /* Плавна зміна теми */
}

/* Noise Texture (Grain) */
body::before {
    content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none; z-index: 9999; mix-blend-mode: overlay;
}

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #333; }

/* =========================================
   3. COMPONENTS
   ========================================= */
.btn {
    background: var(--accent); color: var(--bg);
    border: 1px solid var(--accent);
    padding: 14px 24px; font-weight: 700; cursor: pointer;
    transition: 0.2s; font-size: 11px; letter-spacing: 1px;
}
.btn:hover { opacity: 0.8; }
.btn:active { transform: scale(0.98); }

.btn-outline {
    background: transparent; color: var(--text-sec);
    border: 1px solid var(--border); padding: 12px;
    cursor: pointer; transition: 0.2s; font-weight: 600;
}
.btn-outline:hover { border-color: var(--accent); color: var(--accent); }

.input-std {
    background: transparent; border: 1px solid var(--border);
    color: var(--accent); padding: 15px; width: 100%;
    font-family: inherit; font-size: 14px;
    transition: 0.3s; margin-bottom: 10px;
}
.input-std:focus { border-color: var(--accent); background: rgba(255,255,255,0.05); }

.divider { height: 1px; background: var(--border); margin: 20px 0; width: 100%; }

/* =========================================
   4. LAYOUT
   ========================================= */
header {
    position: fixed; top: 0; left: 0; width: 100%; height: 70px;
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 40px; z-index: 100;
    background: var(--glass); backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
}

.logo { font-weight: 900; font-size: 18px; letter-spacing: 2px; cursor: pointer; }
.nav-link { cursor: pointer; color: var(--text-sec); font-size: 11px; transition: 0.3s; font-weight: 600; }
.nav-link:hover { color: var(--accent); }

.container { padding: 140px 40px 40px; max-width: 1800px; margin: 0 auto; }

.hero-text {
    font-size: clamp(3rem, 12vw, 10rem);
    font-weight: 900; line-height: 0.8; letter-spacing: -0.04em;
    margin-bottom: 60px; color: var(--accent);
}

.controls-bar {
    display:flex; justify-content:space-between; align-items:flex-end;
    margin-bottom: 60px; border-bottom: 1px solid var(--border); padding-bottom: 20px;
}
#search { max-width: 400px; border:none; padding-left:0; font-size: 16px; }

/* GRID */
.grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
}

.card { cursor: pointer; background: var(--surface); padding: 10px; transition: 0.3s; border: 1px solid transparent; }
.card:hover { background: var(--surface-hover); border-color: var(--border); }

.card-img-box {
    width: 100%; aspect-ratio: 0.85; background: #000;
    overflow: hidden; position: relative; margin-bottom: 15px;
}
.card-img {
    width: 100%; height: 100%; object-fit: cover;
    filter: grayscale(100%); transition: 0.5s; opacity: 0.9;
}
.card:hover .card-img { filter: grayscale(0); transform: scale(1.03); opacity: 1; }

.card-info { display: flex; justify-content: space-between; align-items: center; }
.card-title { font-weight: 600; font-size: 11px; }
.card-price { font-family: monospace; color: var(--text-sec); }

/* =========================================
   5. DRAWERS & MODALS
   ========================================= */
.backdrop {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.7); z-index: 2000;
    opacity: 0; visibility: hidden; transition: 0.3s;
    backdrop-filter: blur(3px);
}
.backdrop.active { opacity: 1; visibility: visible; }

.drawer {
    position: fixed; top: 0; right: -100%;
    width: 450px; height: 100%;
    background: var(--bg); border-left: 1px solid var(--border);
    z-index: 2500; transition: 0.5s var(--ease); padding: 40px;
    display: flex; flex-direction: column;
}
.drawer.open { right: 0; }

.drawer-header { display: flex; justify-content: space-between; margin-bottom: 40px; align-items: center; }
.drawer-title { font-size: 20px; font-weight: 800; }
.drawer-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border); }

/* SETTINGS UI */
.settings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 30px; }
.setting-card {
    border: 1px solid var(--border); padding: 15px;
    cursor: pointer; transition: 0.2s; background: rgba(255,255,255,0.02);
}
.setting-card:hover { border-color: var(--accent); }
.setting-card.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }
.setting-card.active .setting-label { opacity: 0.6; } /* Label color inside active card */

.setting-val { font-weight: 800; font-size: 11px; }
.setting-label { font-size: 9px; opacity: 0.5; margin-top: 5px; }

.section-title { font-size: 9px; color: var(--text-sec); margin: 25px 0 10px; font-weight: 700; letter-spacing: 1px; }

/* MODAL */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 2200; display: flex; align-items: center; justify-content: center;
    opacity: 0; visibility: hidden; transition: 0.4s; pointer-events: none;
}
.modal-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }

.modal-content {
    width: 90%; height: 90%; max-width: 1400px;
    background: var(--bg); border: 1px solid var(--border);
    display: flex; overflow: hidden; position: relative;
    box-shadow: 0 0 50px rgba(0,0,0,0.5);
}

.modal-close {
    position: absolute; top: 20px; right: 20px; width: 40px; height: 40px;
    display: flex; align-items: center; justify-content: center;
    border: 1px solid var(--border); cursor: pointer; z-index: 10;
    background: var(--bg); color: var(--accent);
}

.modal-img-col { flex: 1.5; background: #000; position: relative; }
.modal-img-col img { width: 100%; height: 100%; object-fit: cover; }

.modal-info-col { flex: 1; padding: 60px; display: flex; flex-direction: column; overflow-y: auto; }
.modal-title { font-size: 40px; font-weight: 800; line-height: 1; margin-bottom: 10px; }
.modal-price { font-size: 20px; font-family: monospace; color: var(--text-sec); }
.modal-desc { font-size: 13px; line-height: 1.6; color: var(--text-sec); margin-bottom: 40px; }

/* CART ITEM */
.cart-item { display: flex; gap: 15px; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 15px; }
.cart-thumb { width: 60px; height: 80px; background: #222; object-fit: cover; }

/* RESPONSIVE */
@media (max-width: 900px) {
    .hero-text { font-size: 12vw; }
    .drawer { width: 100%; }
    .modal-content { flex-direction: column; width: 100%; height: 100%; border:none; }
    .modal-img-col { height: 45%; }
    .modal-info-col { height: 55%; padding: 30px; }
    .grid { gap: 10px; }
}